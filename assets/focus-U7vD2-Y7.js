import{o as y,h as H}from"./navigation-CUFUqTml.js";import{g as l,a as p}from"./api-CwBaQWLa.js";const c=()=>localStorage.getItem("favoriteHeroIds")?JSON.parse(localStorage.getItem("favoriteHeroIds")):null,i=e=>{localStorage.setItem("favoriteHeroIds",JSON.stringify(e))},L=e=>{let t;localStorage.getItem("favoriteHeroIds")?(t=c(),t.push(e.id),i(t)):(t=[e.id],i(t))},S=e=>{const r=c().filter(o=>o!==e.id);i(r)},s=e=>{const t=c();return t!==null?t.some(r=>r===e.id):!1},g=()=>{document.querySelectorAll(".expandable-right").forEach(t=>{const r=t.cloneNode(!0);r.style.position="absolute",r.style.visibility="hidden",r.style.width="auto",document.body.appendChild(r);const o=r.offsetWidth;t.style.setProperty("--dynamic-width",o+"px"),t.textContent.length<=3&&(t.style.paddingRight="1em"),document.body.removeChild(r)})};document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#pageOneBtn"),t=document.querySelector("#pageTwoBtn"),r=document.querySelector("#carousel");e.addEventListener("click",()=>{o(0)}),t.addEventListener("click",()=>{o(1)});function o(n){r.style.transform=`translateX(-${n*100}vw)`,n===0?(e.classList.remove("inactive-page"),e.classList.add("active-page"),t.classList.remove("active-page"),t.classList.add("inactive-page")):n===1&&(t.classList.remove("inactive-page"),t.classList.add("active-page"),e.classList.remove("active-page"),e.classList.add("inactive-page"))}});const d=e=>{document.getElementsByTagName("title")[0].innerHTML="HeroHub | "+e.name,document.querySelector("#big-title").innerHTML=e.name,document.querySelector("#hero-img-page").src=e.image.original_url},f=e=>e.aliases.split(`
`),u=e=>{document.querySelector("#hero-name-span").innerHTML=e.name,document.querySelector("#big-title").style.backgroundImage=`url("${e.image.screen_large_url}")`,document.querySelector("#origin-box").innerHTML=e.deck,document.querySelector("#origin-box").style;const t=document.querySelector("#alias-list");f(e).forEach(o=>{t.insertAdjacentHTML("beforeend",`<li>${o}</li>`)}),document.querySelector("#heroRealName").innerHTML=e.real_name!==null?e.real_name:"Not Available",document.querySelector("#heroOrigin").innerHTML=e.origin.name!==null?e.origin.name:"Not Available";let r=null;switch(e.gender){case 1:r="Male";break;case 2:r="Female";break;case 3:r="Other";break}document.querySelector("#heroSex").innerHTML=r!==null?r:"Not Available",document.querySelector("#heroDoB").innerHTML=e.birth!==null?e.birth:"Not Available",g()},m=(e,t)=>{document.querySelector("#issue-img").src=t.image.original_url,document.querySelector("#issue-desc").innerHTML=t.description!==null?t.description:"No description available.",document.querySelector("#issue-name").innerHTML=t.name!==null?`Issue name: ${t.name}`:`<strong>${e.name}'s First Issue Details</strong>`,document.querySelector("#hero-publisher").innerHTML=e.publisher.name!==null?e.publisher.name:"N/A",document.querySelector("#appearance-count").innerHTML=e.count_of_issue_appearances!==null?e.count_of_issue_appearances:"Not Available",document.querySelector("#cover-date").innerHTML=t.cover_date!==null?t.cover_date:"Not Available",document.querySelector("#store-date").innerHTML=t.store_date!==null?t.store_date:"Not Available",g()},q=async()=>{const e=new URLSearchParams(window.location.search);if(e.has("heroId")){const t=await l(e.get("heroId"));a=t,s(t)?(document.querySelector("#saveHeroBtn").innerHTML="Favorited",document.querySelector("#saveHeroBtn").classList.add("favorited")):document.querySelector("#saveHeroBtn").innerHTML="Favorite Hero?",console.log(t);const r=await p(t.first_appeared_in_issue.id);d(t),u(t),m(t,r)}else{const t=await l(1699);a=t,s(a)?(document.querySelector("#saveHeroBtn").innerHTML="Favorited",document.querySelector("#saveHeroBtn").classList.add("favorited")):document.querySelector("#saveHeroBtn").innerHTML="Favorite Hero?",u(t),d(t),m(t,issue)}};var a;y();H();q();const v=(e,t)=>{switch(document.querySelector("#saveHeroBtn").classList.remove("favorited"),t){case!0:s(e)||(L(e),document.querySelector("#saveHeroBtn").innerHTML="Favorited",document.querySelector("#saveHeroBtn").classList.add("favorited"));break;case!1:s(e)&&(S(e),document.querySelector("#saveHeroBtn").innerHTML="Favorite Hero?");break}};document.querySelector("#saveHeroBtn").addEventListener("click",e=>{e.target.classList.contains("favorited")?v(a,!1):v(a,!0)});
